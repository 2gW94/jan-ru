# Jan - Перенесите искусственный интеллект на свой рабочий стол

![Jan banner](https://github.com/janhq/jan/assets/89722390/35daac7d-b895-487c-a6ac-6663daaad78e)

<p align="center">
  <!-- ALL-CONTRIBUTORS-BADGE:START - Do not remove or modify this section -->
  <img alt="GitHub commit activity" src="https://img.shields.io/github/commit-activity/m/janhq/jan"/>
  <img alt="Github Last Commit" src="https://img.shields.io/github/last-commit/janhq/jan"/>
  <img alt="Github Contributors" src="https://img.shields.io/github/contributors/janhq/jan"/>
  <img alt="GitHub closed issues" src="https://img.shields.io/github/issues-closed/janhq/jan"/>
  <img alt="Discord" src="https://img.shields.io/discord/1107178041848909847?label=discord"/>
</p>

<p align="center">
  <a href="https://jan.ai/guides">Getting Started</a> 
  - <a href="https://jan.ai/docs">Docs</a> 
  - <a href="https://github.com/janhq/jan/releases">Changelog</a> 
  - <a href="https://github.com/janhq/jan/issues">Bug reports</a> 
  - <a href="https://discord.gg/AsJ8krTT3N">Discord</a>
</p>

> ⚠️ **Jan в настоящее время находится в разработке**: Ожидайте серьезных изменений и ошибок!

Jan - это альтернатива ChatGPT с открытым исходным кодом, которая работает на 100% автономно на вашем компьютере.

**Jan работает на любом оборудовании.** От ПК до кластеров с несколькими GPU - Jan поддерживает универсальные архитектуры:
- [x] Nvidia GPUs (быстро)
- [x] Apple M-series (быстро)
- [x] Apple Intel
- [x] Linux Debian
- [x] Windows x64

## Загрузка

<table>
  <tr style="text-align:center">
    <td style="text-align:center"><b>Тип версии</b></td>
    <td style="text-align:center"><b>Windows</b></td>
    <td colspan="2" style="text-align:center"><b>MacOS</b></td>
    <td colspan="2" style="text-align:center"><b>Linux</b></td>
  </tr>
  <tr style="text-align:center">
    <td style="text-align:center"><b>Стабильная (рекомендуется)</b></td>
    <td style="text-align:center">
      <a href='https://github.com/janhq/jan/releases/download/v0.4.6/jan-win-x64-0.4.6.exe'>
        <img src='./docs/static/img/windows.png' style="height:14px; width: 14px" />
        <b>jan.exe</b>
      </a>
    </td>
    <td style="text-align:center">
      <a href='https://github.com/janhq/jan/releases/download/v0.4.6/jan-mac-x64-0.4.6.dmg'>
        <img src='./docs/static/img/mac.png' style="height:15px; width: 15px" />
        <b>Intel</b>
      </a>
    </td>
    <td style="text-align:center">
      <a href='https://github.com/janhq/jan/releases/download/v0.4.6/jan-mac-arm64-0.4.6.dmg'>
        <img src='./docs/static/img/mac.png' style="height:15px; width: 15px" />
        <b>M1/M2</b>
      </a>
    </td>
    <td style="text-align:center">
      <a href='https://github.com/janhq/jan/releases/download/v0.4.6/jan-linux-amd64-0.4.6.deb'>
        <img src='./docs/static/img/linux.png' style="height:14px; width: 14px" />
        <b>jan.deb</b>
      </a>
    </td>
    <td style="text-align:center">
      <a href='https://github.com/janhq/jan/releases/download/v0.4.6/jan-linux-x86_64-0.4.6.AppImage'>
        <img src='./docs/static/img/linux.png' style="height:14px; width: 14px" />
        <b>jan.AppImage</b>
      </a>
    </td>
  </tr>
  <tr style="text-align:center">
    <td style="text-align:center"><b>Экспериментальная (ночная сборка)</b></td>
    <td style="text-align:center">
      <a href='https://delta.jan.ai/latest/jan-win-x64-0.4.6-285.exe'>
        <img src='./docs/static/img/windows.png' style="height:14px; width: 14px" />
        <b>jan.exe</b>
      </a>
    </td>
    <td style="text-align:center">
      <a href='https://delta.jan.ai/latest/jan-mac-x64-0.4.6-285.dmg'>
        <img src='./docs/static/img/mac.png' style="height:15px; width: 15px" />
        <b>Intel</b>
      </a>
    </td>
    <td style="text-align:center">
      <a href='https://delta.jan.ai/latest/jan-mac-arm64-0.4.6-285.dmg'>
        <img src='./docs/static/img/mac.png' style="height:15px; width: 15px" />
        <b>M1/M2</b>
      </a>
    </td>
    <td style="text-align:center">
      <a href='https://delta.jan.ai/latest/jan-linux-amd64-0.4.6-285.deb'>
        <img src='./docs/static/img/linux.png' style="height:14px; width: 14px" />
        <b>jan.deb</b>
      </a>
    </td>
    <td style="text-align:center">
      <a href='https://delta.jan.ai/latest/jan-linux-x86_64-0.4.6-285.AppImage'>
        <img src='./docs/static/img/linux.png' style="height:14px; width: 14px" />
        <b>jan.AppImage</b>
      </a>
    </td>
  </tr>
</table>

Загрузите последнюю версию Jan https://jan.ai/ или посетите **[GitHub Releases](https://github.com/janhq/jan/releases)**, чтобы загрузить любую предыдущую версию.
## Демо

![Demo](/demo.gif)

_Видео в реальном времени: Jan v0.4.3-nightly на Mac M1, 16GB Sonoma 14_

## Быстрые ссылки

#### Jan

- [Jan website](https://jan.ai/)
- [Jan GitHub](https://github.com/janhq/jan)
- [User Guides](https://jan.ai/guides/)
- [Developer docs](https://jan.ai/developer/)
- [API reference](https://jan.ai/api-reference/)
- [Specs](https://jan.ai/docs/)

#### Nitro

Nitro - это высокоэффективный движок выводов на C++ для граничных вычислений. Он легкий и встраиваемый, и может использоваться самостоятельно в ваших собственных проектах.

- [Nitro Website](https://nitro.jan.ai)
- [Nitro GitHub](https://github.com/janhq/nitro)
- [Documentation](https://nitro.jan.ai/docs)
- [API Reference](https://nitro.jan.ai/api-reference)

## Устранение неполадок

Поскольку Jan находится в режиме разработки, вы можете застрять на неработающей сборке.

Чтобы сбросить установку, выполните следующие действия:

1. С помощью следующих команд удалите все висящие процессы бэкенда:

   ```sh
   ps aux | grep nitro
   ```

   Найдите такие процессы, как "nitro" и "nitro_arm_64", и уничтожьте их один за другим с помощью:

   ```sh
   kill -9 <PID>
   ```

2. **Удалите Jan из папки "Приложения" и папки "Кэш "**.

   ```bash
   make clean
   ```

   Это приведет к удалению всех артефактов сборки и кэшированных файлов:

   - Удалите расширение Jan из папки `~/jan/extensions`.
   - Удалите все `node_modules` в текущей папке
   - Очистите кэш приложений в папке `~/Library/Caches/jan`.

## Требования для запуска Jan

- MacOS: 13 или выше
- Windows:
  - Windows 10 или выше
  - Для включения поддержки GPU:
    - Графический процессор Nvidia с CUDA Toolkit 11.7 или выше
    - Драйвер Nvidia 470.63.01 или выше
- Linux:
  - glibc 2.27 или выше (проверьте с помощью `ldd --version`)
  - gcc 11, g++ 11, cpp 11 или выше, для получения дополнительной информации обратитесь к этой [ссылке](https://jan.ai/guides/troubleshooting/gpu-not-used/#specific-requirements-for-linux).
  - Для включения поддержки GPU:
    - Nvidia GPU с CUDA Toolkit 11.7 или выше
    - Драйвер Nvidia 470.63.01 или выше

## Внесение изменений

Вклад приветствуется! Пожалуйста, прочитайте файл [CONTRIBUTING.md](CONTRIBUTING.md)

### Зависемости

- node >= 20.0.0
- yarn >= 1.22.0
- make >= 3.81

### Инструкции

1. **Склонируйте репозиторий и подготовьте:**.

   ```bash
   git clone https://github.com/janhq/jan
   cd jan
   git checkout -b DESIRED_BRANCH
   ```

2. **Начните разработку и используйте Jan Desktop**.

   ```bash
   make dev
   ```

Это запустит сервер разработки и откроет приложение для рабочего стола.

### Для производственной сборки

```bash
# Выполните шаги 1 и 2 из предыдущего раздела.
# Создайте приложение
make build
```

Это позволит собрать приложение MacOS m1/m2 для производства (с уже сделанной подписью кода) и поместить результат в папку `dist`.
### Режим Docker

- Поддерживаемые ОС: Linux, WSL2 Docker
- Предварительные условия:

  - Для запуска Jan в режиме Docker необходимы Docker Engine и Docker Compose. Следуйте приведенным ниже [инструкциям](https://docs.docker.com/engine/install/ubuntu/), чтобы начать работу с Docker Engine на Ubuntu.

    ```bash
    curl -fsSL https://get.docker.com -o get-docker.sh
    sudo sh ./get-docker.sh --dry-run
    ```

  - Если вы собираетесь запускать Jan в режиме GPU, вам необходимо установить `nvidia-driver` и `nvidia-docker2`. Для установки следуйте инструкции [здесь](https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html).

- Запуск Jan в режиме Docker

| Профиль Docker compose | Описание                                  |
| ---------------------- | -------------------------------------------- |
| `cpu-fs` | Запустите Jan в режиме процессора с файловой системой по умолчанию |
| `cpu-s3fs` | Запуск Jan в режиме CPU с файловой системой S3 |
| `gpu-fs` | Запуск Jan в режиме GPU с файловой системой по умолчанию |
| `gpu-s3fs` | Запуск Jan в режиме GPU с файловой системой S3    |

| Переменная среды | Описание |
| ----------------------- | ------------------------------------------------------------------------------------------------------- |
| `S3_BUCKET_NAME` | Имя ведра S3 - оставьте пустым для файловой системы по умолчанию |
| `AWS_ACCESS_KEY_ID` | Идентификатор ключа доступа AWS - оставьте пустым для файловой системы по умолчанию |
| `AWS_SECRET_ACCESS_KEY` | Секретный ключ доступа AWS - оставьте пустым для файловой системы по умолчанию |
| `AWS_ENDPOINT` | URL конечной точки AWS - оставьте пустым для файловой системы по умолчанию |
| `AWS_REGION` | Регион AWS - оставьте пустым для файловой системы по умолчанию |
| `API_BASE_URL` | Jan Server URL, пожалуйста, измените его как ваш публичный ip-адрес или доменное имя по умолчанию http://localhost:1377 |

- **Вариант 1**: Запустить Jan в режиме процессора

  ```bash
  # Режим процессора и файловой системой по умолчанию
  docker compose --profile cpu-fs up -d

  # Режим работы процессора и файловой системы S3
  docker compose --profile cpu-s3fs up -d
  ```

- **Вариант 2**: Запустите Jan в режиме GPU

  - **Шаг 1**: Проверьте совместимость CUDA с вашим драйвером NVIDIA, запустив `nvidia-smi` и проверьте версию CUDA в выводе
    ```bash
    nvidia-smi

    # Output
    +---------------------------------------------------------------------------------------+
    | NVIDIA-SMI 531.18                 Driver Version: 531.18       CUDA Version: 12.1     |
    |-----------------------------------------+----------------------+----------------------+
    | GPU  Name                      TCC/WDDM | Bus-Id        Disp.A | Volatile Uncorr. ECC |
    | Fan  Temp  Perf            Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
    |                                         |                      |               MIG M. |
    |=========================================+======================+======================|
    |   0  NVIDIA GeForce RTX 4070 Ti    WDDM | 00000000:01:00.0  On |                  N/A |
    |  0%   44C    P8               16W / 285W|   1481MiB / 12282MiB |      2%      Default |
    |                                         |                      |                  N/A |
    +-----------------------------------------+----------------------+----------------------+
    |   1  NVIDIA GeForce GTX 1660 Ti    WDDM | 00000000:02:00.0 Off |                  N/A |
    |  0%   49C    P8               14W / 120W|      0MiB /  6144MiB |      0%      Default |
    |                                         |                      |                  N/A |
    +-----------------------------------------+----------------------+----------------------+
    |   2  NVIDIA GeForce GTX 1660 Ti    WDDM | 00000000:05:00.0 Off |                  N/A |
    | 29%   38C    P8               11W / 120W|      0MiB /  6144MiB |      0%      Default |
    |                                         |                      |                  N/A |
    +-----------------------------------------+----------------------+----------------------+

    +---------------------------------------------------------------------------------------+
    | Processes:                                                                            |
    |  GPU   GI   CI        PID   Type   Process name                            GPU Memory |
    |        ID   ID                                                             Usage      |
    |=======================================================================================|
    ```

- **Шаг 2**: Посетите [NVIDIA NGC Catalog ](https://catalog.ngc.nvidia.com/orgs/nvidia/containers/cuda/tags) и найдите наименьшую младшую версию тега изображения, которая соответствует вашей версии CUDA (например, 12.1 -> 12.1.0).

  - **Шаг 3**: Обновите строку `Dockerfile.gpu` под номером 5, указав последнюю минорную версию image tag из шага 2 (например, измените `FROM nvidia/cuda:12.2.0-runtime-ubuntu22.04 AS base` на `FROM nvidia/cuda:12.1.0-runtime-ubuntu22.04 AS base`)

  - **Шаг 4**: Выполните команду для запуска Jan в режиме GPU

    ```bash
    # Режим GPU и файловой системой по умолчанию
    docker compose --profile gpu up -d

    # Режим GPU и файловой системы S3
    docker compose --profile gpu-s3fs up -d
    ```

Это запустит веб-сервер, и вы сможете получить доступ к Jan по адресу `http://localhost:3000`.

> Примечание: функция RAG пока не поддерживается в режиме Docker с s3fs.

## Благодарности
Jan builds on top of other open-source projects:

- [llama.cpp](https://github.com/ggerganov/llama.cpp)
- [TensorRT](https://github.com/NVIDIA/TensorRT)

## Контакт

- Ошибки и запросы: отправьте тикет на GitHub
- Для обсуждения: присоединяйтесь к нашему Discord [здесь](https://discord.gg/FTk2MvZwJH)
- Для деловых запросов: пишите на hello@jan.ai
- Для работы: пожалуйста, напишите hr@jan.ai

## Лицензия

Jan является свободным и открытым источником, под лицензией AGPLv3.
